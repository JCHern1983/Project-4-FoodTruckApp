{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Carlos\\\\foodtruckapp\\\\src\\\\components\\\\Operator\\\\UpdateTruck.js\";\nimport React, { useState, useEffect } from \"react\";\nimport { useHistory } from 'react-router-dom';\nimport axiosWithAuth from '../../components/axiosWithAuth';\nimport { FormLabel, FormSpacing, TruckFormContainer, InputStyle, TruckButton } from '../../styled-components';\nconst initialItem = {\n  truckName: \"\",\n  imgOfTruck: \"\",\n  customerRatings: 0,\n  customerRatingAvg: 0,\n  currentLocation: \"\",\n  departTime: \"\"\n};\nexport default function UpdateTruck({\n  match\n}) {\n  const [truck, setTruck] = useState(initialItem);\n  console.log({\n    truck\n  });\n  const {\n    push\n  } = useHistory();\n  console.log(match);\n  useEffect(() => {\n    axiosWithAuth().get(`/api/ops/${match.params.id}/trucks`).then(res => {\n      console.log(res.data.operatorsTrucks.id);\n      setTruck(res.data.operatorsTrucks);\n    }).catch(err => {\n      console.log(err, 'No data Coming in!');\n    });\n  }, []);\n\n  const handleDelete = e => {\n    axiosWithAuth().delete(`/api/trucks/${match.params.id}`).then(res => {// window.location.reload(true)\n      // push(`/Operator/Dashboard/trucks/${props.user}`)\n      // console.log(res);\n    }).catch(err => {\n      console.log(err, 'no data coming in');\n    });\n  };\n\n  const handleChanges = event => {\n    event.persist();\n    let value = event.target.value;\n    setTruck({ ...truck,\n      [event.target.name]: value\n    });\n  };\n\n  const submitForm = event => {\n    event.preventDefault();\n    axiosWithAuth().put(`/api/ops/${match.params.id}/trucks`, truck).then(res => {\n      console.log(res);\n      setTruck({\n        truckName: \"\",\n        imgOfTruck: \"\",\n        customerRatings: 0,\n        customerRatingAvg: 0,\n        currentLocation: \"\",\n        departTime: \"\"\n      });\n      push(`/Operator/Dashboard/trucks/${match.params.id}`);\n    }).catch(err => {\n      console.log(err, 'No data coming in!');\n    });\n  };\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(TruckFormContainer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(FormSpacing, {\n    onSubmit: submitForm,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(FormLabel, {\n    htmlFor: \"truckName\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 11\n    }\n  }, \"Food Truck Name\"), /*#__PURE__*/React.createElement(InputStyle, {\n    id: \"truckName\",\n    type: \"text\",\n    name: \"truckName\",\n    placeholder: \"Enter a Truck Name\",\n    onChange: handleChanges,\n    value: truck.truckName,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(FormLabel, {\n    htmlFor: \"truckImage\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 11\n    }\n  }, \"Food Truck Image\"), /*#__PURE__*/React.createElement(InputStyle, {\n    id: \"imgOfTruck\",\n    type: \"text\",\n    name: \"imgOfTruck\",\n    placeholder: \"Source to your Image\",\n    onChange: handleChanges,\n    value: truck.imgOfTruck,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(FormLabel, {\n    htmlFor: \"customerRatings\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 11\n    }\n  }, \"Customer Rating\"), /*#__PURE__*/React.createElement(InputStyle, {\n    id: \"customerRatings\",\n    type: \"number\",\n    name: \"customerRatings\",\n    placeholder: \"add rating here\",\n    onChange: handleChanges,\n    value: truck.customerRatings,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(FormLabel, {\n    htmlFor: \"customerRatingAvg\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 11\n    }\n  }, \"Customer Rating Avg\"), /*#__PURE__*/React.createElement(InputStyle, {\n    id: \"customerRatingAvg\",\n    type: \"number\",\n    name: \"customerRatingAvg\",\n    placeholder: \"add rating here\",\n    onChange: handleChanges,\n    value: truck.customerRatingAvg,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(FormLabel, {\n    htmlFor: \"currentLocation\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 11\n    }\n  }, \"Current Location\"), /*#__PURE__*/React.createElement(InputStyle, {\n    id: \"currentLocation\",\n    type: \"text\",\n    name: \"currentLocation\",\n    placeholder: \"Enter a Current Location\",\n    onChange: handleChanges,\n    value: truck.currentLocation,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(FormLabel, {\n    htmlFor: \"departTime\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 11\n    }\n  }, \"Depart Time\"), /*#__PURE__*/React.createElement(InputStyle, {\n    id: \"departTime\",\n    type: \"text\",\n    name: \"departTime\",\n    placeholder: \"Enter a Departure Time\",\n    onChange: handleChanges,\n    value: truck.departTime,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(TruckButton, {\n    type: \"submit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 11\n    }\n  }, \"Update\"), /*#__PURE__*/React.createElement(TruckButton, {\n    onClick: handleDelete,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 11\n    }\n  }, \"Delete\"))));\n}\n;","map":{"version":3,"sources":["C:/Users/Carlos/foodtruckapp/src/components/Operator/UpdateTruck.js"],"names":["React","useState","useEffect","useHistory","axiosWithAuth","FormLabel","FormSpacing","TruckFormContainer","InputStyle","TruckButton","initialItem","truckName","imgOfTruck","customerRatings","customerRatingAvg","currentLocation","departTime","UpdateTruck","match","truck","setTruck","console","log","push","get","params","id","then","res","data","operatorsTrucks","catch","err","handleDelete","e","delete","handleChanges","event","persist","value","target","name","submitForm","preventDefault","put"],"mappings":";AAAA,OAAOA,KAAP,IAAcC,QAAd,EAAwBC,SAAxB,QAAwC,OAAxC;AACA,SAAQC,UAAR,QAAyB,kBAAzB;AACA,OAAOC,aAAP,MAA0B,gCAA1B;AACA,SAASC,SAAT,EAAoBC,WAApB,EAAiCC,kBAAjC,EAAqDC,UAArD,EAAiEC,WAAjE,QAAoF,yBAApF;AAEA,MAAMC,WAAW,GAAG;AAClBC,EAAAA,SAAS,EAAE,EADO;AAElBC,EAAAA,UAAU,EAAE,EAFM;AAGlBC,EAAAA,eAAe,EAAE,CAHC;AAIlBC,EAAAA,iBAAiB,EAAE,CAJD;AAKlBC,EAAAA,eAAe,EAAE,EALC;AAMlBC,EAAAA,UAAU,EAAE;AANM,CAApB;AAUA,eAAe,SAASC,WAAT,CAAsB;AAACC,EAAAA;AAAD,CAAtB,EAA+B;AAC9C,QAAM,CAACC,KAAD,EAAQC,QAAR,IAAoBnB,QAAQ,CAACS,WAAD,CAAlC;AACAW,EAAAA,OAAO,CAACC,GAAR,CAAY;AAACH,IAAAA;AAAD,GAAZ;AACA,QAAM;AAACI,IAAAA;AAAD,MAASpB,UAAU,EAAzB;AACAkB,EAAAA,OAAO,CAACC,GAAR,CAAYJ,KAAZ;AAEAhB,EAAAA,SAAS,CAAC,MAAM;AACdE,IAAAA,aAAa,GAAGoB,GAAhB,CAAqB,YAAWN,KAAK,CAACO,MAAN,CAAaC,EAAG,SAAhD,EACCC,IADD,CACMC,GAAG,IAAG;AACRP,MAAAA,OAAO,CAACC,GAAR,CAAYM,GAAG,CAACC,IAAJ,CAASC,eAAT,CAAyBJ,EAArC;AACAN,MAAAA,QAAQ,CAACQ,GAAG,CAACC,IAAJ,CAASC,eAAV,CAAR;AAEH,KALD,EAMCC,KAND,CAMOC,GAAG,IAAG;AACTX,MAAAA,OAAO,CAACC,GAAR,CAAYU,GAAZ,EAAiB,oBAAjB;AAGH,KAVD;AAWD,GAZQ,EAYN,EAZM,CAAT;;AAcA,QAAMC,YAAY,GAAGC,CAAC,IAAI;AACxB9B,IAAAA,aAAa,GAAG+B,MAAhB,CAAwB,eAAcjB,KAAK,CAACO,MAAN,CAAaC,EAAG,EAAtD,EACCC,IADD,CACMC,GAAG,IAAG,CACR;AACA;AACA;AAEH,KAND,EAOCG,KAPD,CAOQC,GAAG,IAAG;AACVX,MAAAA,OAAO,CAACC,GAAR,CAAYU,GAAZ,EAAgB,mBAAhB;AACH,KATD;AAUD,GAXD;;AAiBE,QAAMI,aAAa,GAAGC,KAAK,IAAI;AAC7BA,IAAAA,KAAK,CAACC,OAAN;AACA,QAAIC,KAAK,GAAGF,KAAK,CAACG,MAAN,CAAaD,KAAzB;AACAnB,IAAAA,QAAQ,CAAC,EAAE,GAAGD,KAAL;AAAY,OAACkB,KAAK,CAACG,MAAN,CAAaC,IAAd,GAAqBF;AAAjC,KAAD,CAAR;AACD,GAJD;;AAMA,QAAMG,UAAU,GAAGL,KAAK,IAAI;AAC1BA,IAAAA,KAAK,CAACM,cAAN;AACAvC,IAAAA,aAAa,GAAGwC,GAAhB,CAAqB,YAAW1B,KAAK,CAACO,MAAN,CAAaC,EAAG,SAAhD,EAA0DP,KAA1D,EACCQ,IADD,CACMC,GAAG,IAAG;AACRP,MAAAA,OAAO,CAACC,GAAR,CAAYM,GAAZ;AACAR,MAAAA,QAAQ,CAAC;AAAIT,QAAAA,SAAS,EAAE,EAAf;AAAmBC,QAAAA,UAAU,EAAE,EAA/B;AAAmCC,QAAAA,eAAe,EAAE,CAApD;AAAuDC,QAAAA,iBAAiB,EAAE,CAA1E;AAA6EC,QAAAA,eAAe,EAAE,EAA9F;AAAkGC,QAAAA,UAAU,EAAE;AAA9G,OAAD,CAAR;AACAO,MAAAA,IAAI,CAAE,8BAA6BL,KAAK,CAACO,MAAN,CAAaC,EAAG,EAA/C,CAAJ;AACH,KALD,EAMCK,KAND,CAMOC,GAAG,IAAG;AACTX,MAAAA,OAAO,CAACC,GAAR,CAAYU,GAAZ,EAAiB,oBAAjB;AACH,KARD;AAUD,GAZD;;AAeA,sBACE,uDACE,oBAAC,kBAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,WAAD;AAAa,IAAA,QAAQ,EAAEU,UAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,SAAD;AAAW,IAAA,OAAO,EAAC,WAAnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBADF,eAEE,oBAAC,UAAD;AACE,IAAA,EAAE,EAAC,WADL;AAEE,IAAA,IAAI,EAAC,MAFP;AAGE,IAAA,IAAI,EAAC,WAHP;AAIE,IAAA,WAAW,EAAC,oBAJd;AAKE,IAAA,QAAQ,EAAEN,aALZ;AAME,IAAA,KAAK,EAAEjB,KAAK,CAACR,SANf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFF,eAUE,oBAAC,SAAD;AAAW,IAAA,OAAO,EAAC,YAAnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBAVF,eAWE,oBAAC,UAAD;AACE,IAAA,EAAE,EAAC,YADL;AAEE,IAAA,IAAI,EAAC,MAFP;AAGE,IAAA,IAAI,EAAC,YAHP;AAIE,IAAA,WAAW,EAAC,sBAJd;AAKE,IAAA,QAAQ,EAAEyB,aALZ;AAME,IAAA,KAAK,EAAEjB,KAAK,CAACP,UANf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAXF,eAmBE,oBAAC,SAAD;AAAW,IAAA,OAAO,EAAC,iBAAnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBAnBF,eAoBE,oBAAC,UAAD;AACE,IAAA,EAAE,EAAC,iBADL;AAEE,IAAA,IAAI,EAAC,QAFP;AAGE,IAAA,IAAI,EAAC,iBAHP;AAIE,IAAA,WAAW,EAAC,iBAJd;AAKE,IAAA,QAAQ,EAAEwB,aALZ;AAME,IAAA,KAAK,EAAEjB,KAAK,CAACN,eANf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IApBF,eA6BE,oBAAC,SAAD;AAAW,IAAA,OAAO,EAAC,mBAAnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,2BA7BF,eA8BE,oBAAC,UAAD;AACE,IAAA,EAAE,EAAC,mBADL;AAEE,IAAA,IAAI,EAAC,QAFP;AAGE,IAAA,IAAI,EAAC,mBAHP;AAIE,IAAA,WAAW,EAAC,iBAJd;AAKE,IAAA,QAAQ,EAAEuB,aALZ;AAME,IAAA,KAAK,EAAEjB,KAAK,CAACL,iBANf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IA9BF,eAsCE,oBAAC,SAAD;AAAW,IAAA,OAAO,EAAC,iBAAnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBAtCF,eAuCE,oBAAC,UAAD;AACE,IAAA,EAAE,EAAC,iBADL;AAEE,IAAA,IAAI,EAAC,MAFP;AAGE,IAAA,IAAI,EAAC,iBAHP;AAIE,IAAA,WAAW,EAAC,0BAJd;AAKE,IAAA,QAAQ,EAAEsB,aALZ;AAME,IAAA,KAAK,EAAEjB,KAAK,CAACJ,eANf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAvCF,eA+CE,oBAAC,SAAD;AAAW,IAAA,OAAO,EAAC,YAAnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBA/CF,eAgDE,oBAAC,UAAD;AACE,IAAA,EAAE,EAAC,YADL;AAEE,IAAA,IAAI,EAAC,MAFP;AAGE,IAAA,IAAI,EAAC,YAHP;AAIE,IAAA,WAAW,EAAC,wBAJd;AAKE,IAAA,QAAQ,EAAEqB,aALZ;AAME,IAAA,KAAK,EAAEjB,KAAK,CAACH,UANf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAhDF,eAyDE,oBAAC,WAAD;AAAa,IAAA,IAAI,EAAC,QAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAzDF,eA0DE,oBAAC,WAAD;AAAa,IAAA,OAAO,EAAEiB,YAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cA1DF,CADF,CADF,CADF;AAmED;AAAA","sourcesContent":["import React,{useState, useEffect} from \"react\";\r\nimport {useHistory} from 'react-router-dom'\r\nimport axiosWithAuth from '../../components/axiosWithAuth'\r\nimport { FormLabel, FormSpacing, TruckFormContainer, InputStyle, TruckButton } from '../../styled-components'\r\n\r\nconst initialItem = {\r\n  truckName: \"\",\r\n  imgOfTruck: \"\",\r\n  customerRatings: 0,\r\n  customerRatingAvg: 0,\r\n  currentLocation: \"\",\r\n  departTime: \"\"\r\n\r\n}\r\n\r\nexport default function UpdateTruck ({match}) {\r\nconst [truck, setTruck] = useState(initialItem);\r\nconsole.log({truck})\r\nconst {push} = useHistory();\r\nconsole.log(match)\r\n\r\nuseEffect(() => {\r\n  axiosWithAuth().get(`/api/ops/${match.params.id}/trucks`)\r\n  .then(res =>{\r\n      console.log(res.data.operatorsTrucks.id)\r\n      setTruck(res.data.operatorsTrucks)\r\n\r\n  })\r\n  .catch(err =>{\r\n      console.log(err, 'No data Coming in!')\r\n\r\n      \r\n  })\r\n}, [])\r\n\r\nconst handleDelete = e => {\r\n  axiosWithAuth().delete(`/api/trucks/${match.params.id}`)\r\n  .then(res =>{\r\n      // window.location.reload(true)\r\n      // push(`/Operator/Dashboard/trucks/${props.user}`)\r\n      // console.log(res);\r\n\r\n  })\r\n  .catch (err =>{\r\n      console.log(err,'no data coming in')\r\n  })\r\n}\r\n\r\n\r\n\r\n\r\n\r\n  const handleChanges = event => {\r\n    event.persist();\r\n    let value = event.target.value;\r\n    setTruck({ ...truck, [event.target.name]: value });\r\n  };\r\n\r\n  const submitForm = event => {\r\n    event.preventDefault();\r\n    axiosWithAuth().put(`/api/ops/${match.params.id}/trucks`, truck)\r\n    .then(res =>{\r\n        console.log(res)\r\n        setTruck({   truckName: \"\", imgOfTruck: \"\", customerRatings: 0, customerRatingAvg: 0, currentLocation: \"\", departTime: \"\" });\r\n        push(`/Operator/Dashboard/trucks/${match.params.id}`)\r\n    })\r\n    .catch(err =>{\r\n        console.log(err, 'No data coming in!')\r\n    })\r\n\r\n  };\r\n  \r\n\r\n  return (\r\n    <>\r\n      <TruckFormContainer>\r\n        <FormSpacing onSubmit={submitForm}>\r\n          <FormLabel htmlFor=\"truckName\">Food Truck Name</FormLabel>\r\n          <InputStyle\r\n            id=\"truckName\"\r\n            type=\"text\"\r\n            name=\"truckName\"\r\n            placeholder=\"Enter a Truck Name\"\r\n            onChange={handleChanges}\r\n            value={truck.truckName}\r\n          />\r\n          <FormLabel htmlFor=\"truckImage\">Food Truck Image</FormLabel>\r\n          <InputStyle\r\n            id=\"imgOfTruck\"\r\n            type=\"text\"\r\n            name=\"imgOfTruck\"\r\n            placeholder=\"Source to your Image\"\r\n            onChange={handleChanges}\r\n            value={truck.imgOfTruck}\r\n          />\r\n          <FormLabel htmlFor=\"customerRatings\">Customer Rating</FormLabel>\r\n          <InputStyle\r\n            id=\"customerRatings\"\r\n            type=\"number\"\r\n            name=\"customerRatings\"\r\n            placeholder=\"add rating here\"\r\n            onChange={handleChanges}\r\n            value={truck.customerRatings}\r\n          />\r\n\r\n          <FormLabel htmlFor=\"customerRatingAvg\">Customer Rating Avg</FormLabel>\r\n          <InputStyle\r\n            id=\"customerRatingAvg\"\r\n            type=\"number\"\r\n            name=\"customerRatingAvg\"\r\n            placeholder=\"add rating here\"\r\n            onChange={handleChanges}\r\n            value={truck.customerRatingAvg}\r\n          />\r\n          <FormLabel htmlFor=\"currentLocation\">Current Location</FormLabel>\r\n          <InputStyle\r\n            id=\"currentLocation\"\r\n            type=\"text\"\r\n            name=\"currentLocation\"\r\n            placeholder=\"Enter a Current Location\"\r\n            onChange={handleChanges}\r\n            value={truck.currentLocation}\r\n          />\r\n          <FormLabel htmlFor=\"departTime\">Depart Time</FormLabel>\r\n          <InputStyle\r\n            id=\"departTime\"\r\n            type=\"text\"\r\n            name=\"departTime\"\r\n            placeholder=\"Enter a Departure Time\"\r\n            onChange={handleChanges}\r\n            value={truck.departTime}\r\n          />\r\n\r\n          <TruckButton type=\"submit\">Update</TruckButton>\r\n          <TruckButton onClick={handleDelete} >Delete</TruckButton>\r\n          \r\n        </FormSpacing>\r\n      </TruckFormContainer>\r\n    </>\r\n  );\r\n};\r\n\r\n\r\n\r\n"]},"metadata":{},"sourceType":"module"}