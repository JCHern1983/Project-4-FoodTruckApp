{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Carlos\\\\foodtruckapp\\\\src\\\\components\\\\Login.js\";\nimport React, { useState } from 'react';\nimport { Link } from 'react-router-dom';\nimport axiosWithAuth from '../components/axiosWithAuth';\nimport { useHistory } from 'react-router-dom';\nexport default function Login({\n  setIsLoggedIn\n}) {\n  const [type, setType] = useState('User');\n  const [credentials, setCredentials] = useState({\n    username: '',\n    password: ''\n  });\n  const [isLoading, setIsLoading] = useState(false);\n  const {\n    push\n  } = useHistory();\n\n  const handleChange = e => {\n    setCredentials({ ...credentials,\n      [e.target.name]: e.target.value\n    });\n  };\n\n  const handleChange2 = e => {\n    setType({\n      value: e.target.value\n    });\n  };\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    setIsLoading(true);\n    axiosWithAuth().post('/api/diner-auth/login', credentials).then(res => {\n      console.log(\"login, post\", res);\n      localStorage.setItem(\"token\", res.data.token);\n      localStorage.setItem('Logged in', true);\n      setIsLoading(false);\n      push('/Diner/DashBoard');\n    }).catch(err => {\n      console.log(\"err\", err, credentials);\n      setIsLoading(false);\n    });\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"OperatorLogin\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 9\n    }\n  }, \"Are you and Operator or User?\"), /*#__PURE__*/React.createElement(\"select\", {\n    value: value,\n    onChange: handleChange2,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"option\", {\n    value: \"Operator\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 13\n    }\n  }, \"Operator\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"User\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 13\n    }\n  }, \"User\"))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"UserLogin\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 3\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 4\n    }\n  }, \" SIGN IN \"), /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: handleSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 4\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    placeholder: \"User Name\",\n    name: \"username\",\n    value: credentials.username,\n    onChange: handleChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 6\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"password\",\n    placeholder: \"Password\",\n    name: \"password\",\n    value: credentials.password,\n    onChange: handleChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 6\n    }\n  }), isLoading ? 'loading...' : /*#__PURE__*/React.createElement(\"button\", {\n    type: \"submit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 49\n    }\n  }, \"Log in\"), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 6\n    }\n  }, \" Not a user? \"), /*#__PURE__*/React.createElement(Link, {\n    to: \"/Signup\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 6\n    }\n  }, \"Sign up!\"))));\n}","map":{"version":3,"sources":["C:/Users/Carlos/foodtruckapp/src/components/Login.js"],"names":["React","useState","Link","axiosWithAuth","useHistory","Login","setIsLoggedIn","type","setType","credentials","setCredentials","username","password","isLoading","setIsLoading","push","handleChange","e","target","name","value","handleChange2","handleSubmit","preventDefault","post","then","res","console","log","localStorage","setItem","data","token","catch","err"],"mappings":"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","sourcesContent":["import React, {useState} from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport axiosWithAuth from '../components/axiosWithAuth'\r\nimport {useHistory} from 'react-router-dom';\r\n\r\n\r\nexport default function Login({setIsLoggedIn}) {\r\n    const [type, setType] = useState('User');\r\n    const [credentials, setCredentials] = useState({\r\n        username: '',\r\n        password: ''\r\n    });\r\n\r\n    const [isLoading, setIsLoading] = useState(false);\r\n    const {push} = useHistory();\r\n\r\n    const handleChange = e => {\r\n        setCredentials({...credentials, [e.target.name]: e.target.value })\r\n\r\n    };\r\n\r\n    const handleChange2 = e => {\r\n        setType({value: e.target.value})\r\n\r\n    };\r\n\r\n\r\n    const handleSubmit = e => {\r\n        e.preventDefault();\r\n        setIsLoading(true);\r\n        axiosWithAuth()\r\n        .post('/api/diner-auth/login', credentials)\r\n        .then(res => {\r\n            console.log(\"login, post\", res)\r\n            localStorage.setItem(\"token\", res.data.token)\r\n            localStorage.setItem('Logged in', true)\r\n            setIsLoading(false);\r\n            push('/Diner/DashBoard')\r\n\r\n\r\n\r\n        })\r\n        .catch(err => {\r\n            console.log(\"err\", err, credentials)\r\n            setIsLoading(false);\r\n        })\r\n    }\r\n\r\n\r\n\treturn (\r\n        <div>\r\n        <div className='OperatorLogin'>\r\n        <h1>Are you and Operator or User?</h1>\r\n        <select value={value} onChange={handleChange2}>\r\n            <option value=\"Operator\">Operator</option>\r\n            <option value=\"User\">User</option>\r\n          </select>\r\n        \r\n        </div>\r\n\r\n\t\t<div className='UserLogin'>\r\n\t\t\t<h1> SIGN IN </h1>\r\n\t\t\t<form onSubmit={handleSubmit}>\r\n\t\t\t\t\t<input\r\n\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\tplaceholder=\"User Name\"\r\n\t\t\t\t\t\tname=\"username\"\r\n                        value={credentials.username}\r\n                        onChange={handleChange} \r\n\t\t\t\t\t/>\r\n\r\n\t\t\t\t\t<input\r\n\t\t\t\t\t\ttype=\"password\"\r\n\t\t\t\t\t\tplaceholder=\"Password\"\r\n\t\t\t\t\t\tname=\"password\"\r\n                        value={credentials.password}\r\n                        onChange={handleChange} \r\n\t\t\t\t\t/>\r\n\r\n                    {isLoading ? 'loading...' : <button type=\"submit\">Log in</button>}\r\n\r\n\t\t\t\t\t<p> Not a user? </p>\r\n\t\t\t\t\t<Link to=\"/Signup\">Sign up!</Link>\r\n\t\t\t\t</form>\r\n        </div>\r\n        </div>\r\n\t)\r\n}\r\n\r\n\r\n"]},"metadata":{},"sourceType":"module"}